define(["require","jquery","underscore","monster","monster-timezone"],function(e){var t=e("jquery"),n=e("underscore"),r=e("monster"),i=e("monster-timezone"),s={subscribe:{"myaccount.errorTracker.renderContent":"_errorTrackerRenderContent"},_errorTrackerRenderContent:function(e){var n=this,i=n.errorTrackerFormatData(r.logs.error),s=t(r.template(n,"errorTracker-layout",i));n.errorTrackerBindEvents(s),r.pub("myaccount.renderSubmodule",s),e.callback&&e.callback(s)},errorTrackerFormatData:function(e){var t=this,i=0,s=0;n.each(e,function(e){e.type==="api"?s++:e.type==="js"&&i++});var o={errors:r.logs.error,totalErrors:r.logs.error.length,jsErrors:i,apiErrors:s};return o},errorTrackerBindEvents:function(e){var n=this;e.find(".details").on("click",function(){var e=t(this).parents(".error-line").data();e.type==="api"?r.ui.requestErrorDialog(r.logs.error[e.index]):e.type==="js"&&r.ui.jsErrorDialog(r.logs.error[e.index])})}};return s});